--- 
layout: post 
title: tcp&ip-https 
tags: tcp&ip 
---
# tcp&ip-https
> 公钥&私钥
> 公钥用来加密，私钥用来解迷

## http的问题
* 明文传输，可能导致信息被窃听
* 不互相验证身份，可能导致伪装
* 不校验报文的完整性，可能被篡改

## https
在表示层增加stl&CA来进行加密
![](https://cdn.jsdelivr.net/gh/nber1994/fu0k@master/uPic/20190708212925333_1121774705.png)

1. 首先进行非对称加密（较耗费性能）
    1. c请求s，s返回证书&公钥
    2. c请求CA来验证证书（CA地址一般内置操作系统）
    3. 验证成功，则生成一个随机串，通过公钥加密传递给s
2. 然后进行对称加密
    1. s通过私钥解迷，拿到随机串
    2. 通过随机串加密响应结果，返回
